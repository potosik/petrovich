"use strict";(function(){function i(){this.init=function(){this.deleteButtonConfirmation();this.searchBoxInitialization();this.purchaseDatePickerInitialization();this.inputMasksInitialization()};this.deleteButtonConfirmation=function(){$(".btn-delete").click(function(){return confirm("Элемент будет безвозвратно удален\nВы уверены что хотите удалить данный элемент?")})};this.searchBoxInitialization=function(){$("#searchBox").autocomplete({source:function(n,t){jQuery.get(_pageData.fastSearchUri,{q:n.term},function(n){if(!n.Success||!n.Result){t([]);return}$.map(n.Result,function(n){n.GroupInformation=n.GroupTitle?" / "+n.GroupTitle:"";n.ImageSmall||(n.ImageSmallUri=_pageData.noImageUri)});t(n.Result)})},minLength:_pageData.fastSearchMinLength,delay:_pageData.defaultDebounce,select:function(n,t){window.location.href=t.item.SelfUri},appendTo:"#searchBoxResults",open:function(){$("#searchBoxResults > ul").css({left:"auto",right:0})}}).focus(function(){$(this).autocomplete("search",this.value)}).autocomplete("instance")._renderItem=function(n,t){var i=$("#searchBoxItemTemplate").html(),r=Mustache.to_html(i,t);return $("<li>").append(r).appendTo(n)}};this.purchaseDatePickerInitialization=function(){var f=$("#purchasePicker"),r=$("#purchasemonth"),u=$("#purchaseyear"),n=parseInt(r.val()),t=parseInt(u.val()),i=undefined;n&&t&&!isNaN(n)&&!isNaN(t)&&(i=new Date(t,n-1,1));$("#purchasePicker").datepicker({changeMonth:!0,changeYear:!0,showButtonPanel:!0,dateFormat:"MM yy",closeText:"Готово",defaultDate:i,onClose:function(n,t){r.val(t.selectedMonth+1);u.val(t.selectedYear);$(this).datepicker("setDate",new Date(t.selectedYear,t.selectedMonth,1))}});i&&f.datepicker("setDate",new Date(t,n-1,1))};this.inputMasksInitialization=function(){$("#price").inputmask("9{1,7},99",{numericInput:!0})}}var t=function(n,t){typeof window[n]!="function"&&(window[n]=t)},n;t("logout",function(){var n=document.logoutForm;n&&n.submit&&typeof n.submit=="function"&&n.submit()});n=new i;n.init()})();